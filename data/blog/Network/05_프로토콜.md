---
title: Network_프로토콜
date: '2021-08-01'
tags: ['NETWORK']
draft: false
summary: 인터넷 통신 규약, 프로토콜. 정해진 대로만 요청해야 네트워크는 제대로 알아들어요
---

### 프로토콜이란?

> 공통의 데이터 교환 방법 및 순서에 대해 정의한 의사소통 약속, 규약 혹은 규칙 체계를 말한다. 프로토콜 종류는 여러 가지가 있지만, 일반적으로 프로토콜을 이야기 할 때는 통신 프로토콜을 의미한다. 통신 프로토콜 또는 통신 규약은 컴퓨터나 원거리 통신 장비 사이에서 메시지를 주고받는 양식과 규칙의 체계를 뜻한다.

프로토콜의 구성 요소에는 `구문(syntax)`, `의미(sematic)`, `타이밍(timing)`이 있다.

- 구문 : 데이터를 어떻게 구성할 지에 대한 형식, 구체적인 코딩 방법, 신호 레벨 등에 대한 형식을 규정한다.
- 의미: 데이터에 대하여 구체적으로 어떻게 제어할 것인지에 대한 처리 방법과 오류가 발생했을 때 어떻게 처리할 것인가에 대한 정보를 포함한다.
- 타이밍:통신이 이루어질 때 데이터를 주고받을 속도에 대한 조절과, 여러 데이터가 동시에 통신을 해야 할 경우 순서 관리를 위한 기법을 포함한다.

### 프로토콜의 계층별 분류

프로토콜의 대표적인 계층별 분류로는 TCP/IP 4계층과 OSI 7계층이 있다. TCP/IP 계층이 OSI보다 먼저 개발되었고 TCP/IP는 인터넷 개발 이후 계속 표준화되어 신뢰성이 우수한 반면, OSI 7계층의 경우 실제적으로 구현되는 예가 없어 신뢰성이 저하되었다.

### (1) TCP/IP 4계층

> **인터넷에서 사용되는 표준 통신 프로토콜**, 수많은 프로그램들이 인터넷으로 통신하는데 기반이 되는 프로토콜이다. 아파넷(ARPANET)이 개발되고 인터넷이 발전해나가는 과정에서 대부분의 데이터 통신이 TCP와 IP 기반으로 이루어졌기 때문에 다양한 프로토콜이 개발된 시점에서도 사실상 인터넷 프로토콜을 대표하는 용어로 사용 중이다. 이를 이용해서 컴퓨터를 연결하는 체계를 이더넷(Ethernet)이라고 부른다.

**TCP/IP 4계층의 목적**
인터넷에 연결된 서로 다른 기종의 컴퓨터들이 데이터를 주고받을 수 있도록 하는 인터넷 표준 프로토콜을 만드는 것에 있다. 또한, OSI 참조 모델을 기반으로 상업적이고 실무적으로 이용될 수 있도록 단순화된 현실화의 과정에서 채택된 모형이다.

- **4계층 : 응용 계층** - OSI 7 계층에서 세션계층, 프레젠테이션계층, 애플리케이션 계층에 해당한다.(5, 6, 7계층) **응용프로그램들이 네트워크서비스, 메일서비스, 웹서비스 등을 할 수 있도록 표준적인 인터페이스를 제공한다. **TCP/IP 기반의 응용 프로그램을 구분할 때 사용한다. (프로토콜 : HTTP, FTP, 텔넷, DNS, SMTP)

- **3계층 : 전송 계층** - OSI 7 계층에서 전송계층에 해당한다. **네트워크 양단의 송수신 호스트 사이에서 신뢰성 있는 전송기능을 제공하고, 시스템의 논리주소와 포트를 가지고 있어서 각 상위 계층의 프로세스를 연결해서 통신한다.** 정확한 패킷의 전송을 보장하는 TCP와 정확한 전송을 보장하지 않는 UDP 프로토콜을 이용하며, 데이터의 정확한 전송보다 빠른 속도의 전송이 필요한 멀티미디어 통신에서 UDP를 사용하면 TCP보다 유용하다. 통신 노드 간의 연결을 제어하고, 자료의 송수신을 담당한다. ( 프로토콜 : TCP, UDP)
- **2계층 : 인터넷 계층** - OSI 7 계층의 네트워크 계층에 해당한다. 인터넷 계층의 주요 기능은 상위 전송 계층으로부터 받은 데이터에 IP 패킷 헤더를 붙여 IP패킷을 만들고 이를 전송하는 것이다. 통신 노드 간의 IP 패킷을 전송하는 기능 및 라우팅 기능을 담당한다. (프로토콜 : IP, ARP, RARP, ICMP, OSPF)
- **1계층 : 네트워크 접근 계층(network access layer)** : OSI 7 계층에서 물리계층과 데이터링크 계층에 해당한다. OS의 네트워크 카드와 디바이스 드라이버 등과 같이 하드웨어적인 요소와 관련되는 모든 것을 지원하는 계층이다. 송신측 컴퓨터의 경우 상위 계층으로부터 전달받은 패킷에 물리적인 주소인 MAC 주소 정보를 가지고 있는 헤더를 추가하여 프레임을 만들고, 프레임을 하위계층인 물리 계층으로 전달한다. 수신측 컴퓨터의 경우 데이터 링크 계층에서 추가된 헤더를 제거하여 상위 계층인 네트워크 계층으로 전달한다. CSMA/CD, MAC, LAN, X25, 패킷망, 위성통신, 다이얼 모뎀 등 전송에 사용된다. (프로토콜 : 이더넷, 토큰링, PPP)

**! 패킷이란**

> 패킷(packet)은 네트워크를 통해 전송하기 쉽도록 자른 데이터의 전송 단위이다. 분할된 각각의 패킷에는 별도의 번호가 붙여지고 목적지의 인터넷 주소가 기록되며, 에러 체크 데이터도 포함된다. 패킷은 제어 정보와 사용자 데이터로 이루어지는데, 이를 **페이로드**라고도 한다.

### (2) OSI 7 계층

> **네트워크 프로토콜이 통신하는 구조를 7개의 계층으로 분리하여 각 계층간 상호 작동하는 방식을 정해 놓은 것**

| 계층 | 이름                            | 단위(PDU)                 | 예시                                                                           | 프로토콜                                                               | 디바이스      |
| ---- | ------------------------------- | ------------------------- | ------------------------------------------------------------------------------ | ---------------------------------------------------------------------- | ------------- |
| 7    | 응용계층(Application Layer)     | Data                      | 텔넷(Telnet), 구글 크롬, 이메일, 데이터베이스 관리                             | HTTP, SMTP, FTP, Telnet, DNS, modbus, SIP, AFP, APPC, MAP              |
| 6    | 표현 계층(Presentation Layer)   | Data                      | 인코딩, 디코딩, 암호화, 복호화                                                 | ASCII, MPEG, JPEG, MIDI, EBCDIC, XDR, AFP, PAP                         |
| 5    | 세션 계층(Session Layer)        | Data                      |                                                                                | NetBIOS, SAP, SDP, PIPO, SSH, TLS, NWLink, ASP, ADSP, ZIP, DLC         |
| 4    | 전송 계층(Transport Layer)      | TCP-Segment, UDP-datagram | 특정 방화벽 및 프록시 서버                                                     | TCP, UDP, SPX, SCTP, NetBEUI, RTP, ATP, NBP, AEP, OSPF                 | 게이트웨이    |
| 3    | 네트워크 계층(Network Layer)    | Packet                    | 라우터                                                                         | IP, IPX, IPsec, ICMP, ARP, NetBEUI, RIP, BGP, DDP, PLP                 | 라우터        |
| 2    | 데이터링크 계층(DataLink Layer) | Frame                     | MAC 주소, 브리지 및 스위치                                                     | Ethernet, Token Ring, AppleTalk, PPP, ATM, MAC, HDLC, FDDI, LLC, ALOHA | 브릿지,스위치 |
| 1    | 물리 계층(Physical Layer)       | Bit                       | 전압, 허브, 네트워크 어댑터, 중계기 및 케이블 사양, 신호 변경(디지털,아날로그) | 10BASE-T, 100BASE-TX, ISDN, wired, wireless, RS-232, DSL, Twinax       | 허브,리피터   |

**데이터 캡슐화**

> 데이터를 보낼 때는 응용 계층에서 시작되어 OSI 계층을 차례로 내려오며 물리 계층으로 간다. 이 과정에서 캡슐화를 하게 되는데 각 계층은 다른 계층과 통신할 때 데이터에 특정 정보가 들어 있는 머리말(헤더)과 꼬리말(푸터)을 추가한 후 다른 계층으로 전달한다.

**- 7계층 응용계층** : 가장 위에 존재하며 사용자에게 보이는 부분. '최종 사용자'에게 가장 가까운 계층으로 사용자와 직접적으로 상호작용하는 부분이다.

**- 6계층 표현계층** : 응용 계층으로부터 전달받은 데이터를 읽을 수 있는 형식으로 변환하는데 표현 계층은 응용 계층의 부담을 덜어주는 역할이 되기도 한다. 응용 계층으로부터 전송받거나 응용 계층으로 전달해야 할 데이터의 인코딩과 디코딩이 이 계층에서 이루어진다. 전송하는 데이터의 암호화, 복호화, 코드 변환 등을 수행한다.

**-5계층 세션계층** : 응용 프로그램 간의 연결을 지원해주는 계층. TCP/IP 세션을 만들고 없애는 작업을 수행하며 통신하는 사용자들을 동기화하고 오류복구 명령들을 일괄적으로 다룬다.

**-4계층 전송계층** : 주목적은 하위 계층에 신뢰할 수 있는 데이터 전송 서비스를 제공하는 것이다. 컴퓨터와 컴퓨터 간에 신뢰성 있는 데이터를 서로 주고받을 수 있도록 해주어 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 부담을 덜어주는데, 이때 시퀀스 넘버 기반의 오류 제어 방식을 사용한다. 가장 잘 알려진 전송 계층 프로토콜로는 TCP, UDP 가 있다. TCP는 IP 위에 구축되는데 기기의 IP 주소가 여기서 작동.

**-3계층 네트워크계층** : 여러개의 노드를 거칠 때마다 경로를 찾아주는 역할(라우팅)을 하는 계층. IP 주소를 통해 네트워크를 논리적으로 구분하고 연결한다.

**-2계층 데이터링크계층** : 물리적인 네트워크를 통해 데이터를 전송하는 수단을 제공한다. 주목적은 물리적인 장치를 식별하는 데 사용할 수 있는 주소 지정 체계를 제공하는 것이다.

**-1계층 물리계층** : 시스템의 전기적 물리적 표현을 나타냄. 케이블 종류, 무선 주파수 링크, 핀배치, 전압, 물리 요건 등이 포함.

**참조**
[IT위키 - 프로토콜](https://itwiki.kr/w/%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C)
[해시넷 - 프로토콜](http://wiki.hash.kr/index.php/%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C)
[해시넷- OSI 7계층](http://wiki.hash.kr/index.php/OSI_7_%EA%B3%84%EC%B8%B5)
[OSI 7계층과 TCP/IP 4계층](https://blog.naver.com/ybell95/222023845974)
